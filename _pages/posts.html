---
title: 文章列表
css:
  - pages/posts
---
<div class="ArticleList container">
  {% assign posts = site.posts %}
  {% assign prev_post = null %}
  {% assign first_post_year = posts.last.date | date: "%Y" %}
  {% assign last_post_year = posts.first.date | date: "%Y" %}
  <p class="ArticleList-summary"><span>{{ last_post_year | minus: first_post_year }}</span> 年间共写了 <span>{{ posts.size }}</span> 篇文章。</p>
  <div class="ArticleList-hotCategories">
    <h2>热门类别</h2>
    <div class="container">
      <ul class="row">
        {% assign categories = site.data.categories %}
        {% for category in site.categories limit: 3 %}
          {% assign c = category[0] %}

          <li class="col-sm-4"><a href="/categories/{{ c }}/">{{ categories[c].name }}<span>共 {{ category[1].size }} 篇文章</span></a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% for post in posts %}
    {% assign prev_year = prev_post.date | date: "%Y" %}
    {% assign year = post.date | date: "%Y" %}
    {% assign diff = year | minus: 2011 %}

    {% if diff > 0 %}
      {% if prev_post == null or year != prev_year %}
        {% assign first_item = true %}
      {% else %}
        {% assign first_item = false %}
      {% endif %}

      {% if first_item == true %}
        <h2 class="ArticleList-heading">{{ year }}</h2>
      {% endif %}

      <div class="ArticleList-item"><time datetime="{{ post.date | date: '%c' }}">{{ post.date | date: "%F" }}</time><i class="fa fa-pencil"></i><a href="{{ post.url }}">{{ post.title }}</a></div>

      {% assign prev_post = post %}
    {% endif %}
  {% endfor %}
</div>
