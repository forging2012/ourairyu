(function(r){var t=function(){function u(b,d){b=Number(b);if(!isNaN(b)&&b>0){var a=360/b,c={x:0,y:0},g={x:c.x,y:c.y-d},d=d||100;this.vertices=[];this.apex={coordinate:g,degree:180-a};this.radian=function(a){return a*Math.PI/180};this.side={length:Math.round(Math.abs(Math.sin(this.radian(a/2))*d*2)),count:b};this.circle={radius:d,coordinate:c,degree:a};b!=1&&b!=4?r.call(this):b==4&&(this.vertices.push({coordinate:g}),this.vertices.push({coordinate:{x:c.x-d,y:c.y}}),this.vertices.push({coordinate:{x:c.x,y:c.y+d}}),this.vertices.push({coordinate:{x:c.x+d,y:c.y}}));a=0;for(c=this.vertices;a<c.length;a++)c[a].color=t.call(this,c[a],a)}}function r(){this.vertices.push({coordinate:this.apex.coordinate});for(var b=this.side.count,d=this.circle.degree,a=this.circle.coordinate,c=this.circle.radius,g=b%2==0?"even":"odd",k=null,l=g=="odd"?1:2,f=d<90?Math.floor(90/d):0,j=0,e=[],h=[],m=[],o=[],i=1;i<=f;i++)k=v.call(this,i*d,"above"),e.push({coordinate:{x:a.x-k.width,y:a.y-k.height}}),h.unshift({coordinate:{x:a.x+k.width,y:a.y-k.height}});if(g=="odd"){j=(b-l-f*2)/2;for(i=0;i<j;i++)k=v.call(this,i*d),m.unshift({coordinate:{x:a.x-k.width,y:a.y+k.height}}),o.push({coordinate:{x:a.x+k.width,y:a.y+k.height}});this.vertices=this.vertices.concat(e).concat(m).concat(o).concat(h)}else{i=0;for(b=e;i<b.length;i++)b[i].coordinate.y!=Math.abs(b[i].coordinate.y)&&m.unshift({coordinate:{x:b[i].coordinate.x,y:a.y+Math.abs(b[i].coordinate.y)}});i=0;for(b=h;i<b.length;i++)b[i].coordinate.y!=Math.abs(b[i].coordinate.y)&&o.unshift({coordinate:{x:b[i].coordinate.x,y:a.y+Math.abs(b[i].coordinate.y)}});(this.vertices=this.vertices.concat(e.concat(m))).push({coordinate:{x:a.x,y:a.y+c}});this.vertices=this.vertices.concat(o.concat(h))}}function v(b,d){var a=b,a=d=="above"?90-a:90-a-this.circle.degree/2;return{height:Math.round(Math.abs(Math.sin(this.radian(a))*this.circle.radius)),width:Math.abs(Math.cos(this.radian(a))*this.circle.radius)}}function t(b,d){M=Y=K=0;var a=this.circle.degree*d,c={cmyk:{},rgb:{},web:{}};if(a%120==0)c.cmyk=a/120==0?{C:0,M:100,Y:100,K:0}:a/120==1?{C:100,M:100,Y:0,K:0}:{C:100,M:0,Y:100,K:0};else if(a>0&&a<120)c.cmyk={C:a<=60?0:(a-60)/60*100,M:100,Y:a>=60?0:(60-a)/60*100,K:0};else if(a>120&&a<240)c.cmyk={C:100,M:a>=180?0:(180-a)/60*100,Y:a<=180?0:(a-180)/60*100,K:0};else if(a>240&&a<360)c.cmyk={C:a>=300?0:(300-a)/60*100,M:a<=300?0:(a-300)/60*100,Y:100,K:0};c.rgb={R:Math.round(255*(100-c.cmyk.C)*(100-c.cmyk.K)/1E4),G:Math.round(255*(100-c.cmyk.M)*(100-c.cmyk.K)/1E4),B:Math.round(255*(100-c.cmyk.Y)*(100-c.cmyk.K)/1E4)};var g,a=c.rgb,k=[];for(g in a){var e=a[g].toString(16);k.push(e.length==1?"0"+e:e)}g=k.join("").toUpperCase();c.web=g;return c}function q(b){return"rgb("+b.R+","+b.G+","+b.B+")"}function w(b,d){var a=j("svg"),c,g,k,l,f,n,p="circle";a.createSVGRect();e(a,{id:"polySVG",version:"1.1",width:690,height:"100%",xmlns:"http://www.w3.org/2000/svg"});c=j("defs");a.appendChild(c);for(f=0;f<3;f++)a.appendChild(e(j("g"),{id:"polyG-"+(f+1)}));b.appendChild(a);a=document.getElementById("polyG-1");g=document.getElementById("polyG-2");k=document.getElementById("polyG-3");p=p.toLowerCase();f=e(j("filter"),{id:"filter"});c.appendChild(f);f=0;for(var h=this.vertices;f<h.length;f++){n=f+1;l=e(j("radialGradient"),{id:"radialGradient-"+n,cx:"50%",cy:"25%",r:"50%",fx:"50%",fy:"10%"});var m=e(j("stop"),{offset:"0%",style:"stop-color: rgb(255,255,255); stop-opacity:1;"}),o=e(j("stop"),{offset:"100%",style:"stop-color: "+q(h[f].color.rgb)+"; stop-opacity:1;"});l.appendChild(m);l.appendChild(o);c.appendChild(l);l=e(j("linearGradient"),{id:"linearGradient-"+n,x1:"0%",y1:"0%",x2:"100%",y2:"100%"});m=e(j("stop"),{offset:"0%",style:"stop-color: "+q(h[f].color.rgb)+"; stop-opacity:1;"});o=e(j("stop"),{offset:"100%",style:"stop-color: "+q(h[f+1]?h[f+1].color.rgb:h[0].color.rgb)+"; stop-opacity:1;"});l.appendChild(m);l.appendChild(o);c.appendChild(l);g.appendChild(e(j(p),{id:p+"-"+n,cx:h[f].coordinate.x,cy:h[f].coordinate.y,r:d,fill:"url(#radialGradient-"+n+")"}));l=e(j("text"),{id:"text-"+n,fill:"#FFF",style:"font: normal bold 14px/1.5 SimSun; text-align: center;"});m=e(j("tspan"),{id:"tspan-"+n,x:h[f].coordinate.x,y:h[f].coordinate.y});m.appendChild(document.createTextNode("\u5173\u952e\u5b57\u68c0\u6d4b"+n));l.appendChild(m);k.appendChild(l);e(m,{x:h[f].coordinate.x-l.getBBox().width/2,y:h[f].coordinate.y+l.getBBox().height/4});a.appendChild(e(j("line"),{id:"line-"+n,x1:h[f].coordinate.x,y1:h[f].coordinate.y,x2:h[f+1]?h[f+1].coordinate.x:h[0].coordinate.x,y2:h[f+1]?h[f+1].coordinate.y:h[0].coordinate.y,stroke:"url(#linearGradient-"+n+")","stroke-width":8}))}g.appendChild(e(j(p),{id:p+"-center",cx:this.circle.coordinate.x,cy:this.circle.coordinate.y,r:5,fill:"black"}))}function x(b,d){if(!document.namespaces.rpv)document.namespaces.add("rpv","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="rpv\\:group, rpv\\:fill, rpv\\:path, rpv\\:shape, rpv\\:stroke, rpv\\:line, rpv\\:oval { behavior:url(#default#VML); display: inline-block; }";var a,c="oval";a=s(['<group id="polyVML" style="position: relative; width: 690px; height: 690px;" />']);for(var g=0;g<3;g++)a.appendChild(s(['<group id="polyG-'+(g+1)+'" coordorig="-1000, -1000" coordsize="500, 500" style="position: relative; width: 690px; height: 690px;" />']));b.appendChild(a);document.getElementById("polyG-1");a=document.getElementById("polyG-2");document.getElementById("polyG-3");for(var g=0,e=this.vertices;g<e.length;g++)c=s(['<oval fillcolor="'+q(e[g].color.rgb)+'" StrokeColor="'+q(e[g].color.rgb)+'" style="position: relative; left: '+e[g].coordinate.x+"px; top: "+e[g].coordinate.y+"px; z-index: 5; width: "+d*2+"px; height: "+d*2+'px;" />']),a.appendChild(c)}function j(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function e(b,d){for(var a in d)b.setAttribute(a,d[a]);return b}function s(b){var d=navigator.userAgent.indexOf("MSIE 8.0")>-1,b=b.join("");d?(b=b.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),b=b.indexOf('style="')===-1?b.replace("/>",' style="display: inline-block; behavior:url(#default#VML);" />'):b.replace('style="','style="display: inline-block; behavior:url(#default#VML);')):b=b.replace("<","<rpv:");return document.createElement(b)}u.prototype={offset:function(b,d){this.circle.coordinate.x+=b;this.circle.coordinate.y+=d;for(var a=0,c=this.vertices;a<c.length;a++)c[a].coordinate.x+=b,c[a].coordinate.y+=d},draw:function(b,d){if(this.side.count&&!isNaN(parseInt(this.side.count))){var a=/msie/i.test(navigator.userAgent),c=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;a&&!c?x.apply(this,[b,d]):w.apply(this,[b,d])}}};return function(b,d){return new u(b,d)}}();r.Polygon=t})(window);