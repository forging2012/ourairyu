<!DOCTYPE html><html lang="zh-CN" dir="ltr"><head><meta charset="UTF-8"><title>ECMAScript 基础 - 网道</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="keywords" content="欧雷,欧雷流,宅男的部屋,宅男部屋,宅男,ourai,ourairyu,developer,center,dev,network,front-end,web,网络开发,web开发,开发网络,开发中心"><meta name="description" content="关于 ECMAScript 的一些基本知识"><link rel="author" href="https://plus.google.com/110971881899489153670/"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/stylesheets/matcha.min.css"><link rel="stylesheet" href="/stylesheets/highlight.css"><link rel="stylesheet" href="/stylesheets/site.css"><link rel="stylesheet" href="/stylesheets/highlight.css"> <!--[if lt IE 8]><link rel="stylesheet" href="/stylesheets/forbid.css"><![endif]--><!--[if lt IE 9]><script src="/javascripts/html5shiv-printshiv.min.js"></script><![endif]--><script src="/javascripts/jquery.min.js"></script><script src="/javascripts/tatami.min.js"></script><script src="/javascripts/matcha.min.js"></script></head><body itemscope itemtype="http://schema.org/WebPage" class="layout--sandwich" data-layout="page" data-page="tutorial"><header class="layout-header"> <nav class="layout-nav layout-inner"><ul><li><a href="/">首页</a></li><li><a href="/projects/">项目</a></li></ul> </nav> </header><main class="layout-container"> <header><div class="layout-inner"><h1>ECMAScript 基础</h1><p>关于 ECMAScript 的一些基本知识</p></div> </header><div class="layout-content layout-inner"><h2 class="heading" id="section">数据类型</h2><p>ECMAScript 中定义了 6 种数据类型：</p><ul><li>数字（number）</li><li>字符串（string）</li><li>布尔（boolean）</li><li>null</li><li>undefined</li><li>对象（object）</li></ul><p>其中，数字、字符串、布尔、null 和 undefined 等 5 种是原始类型（primitive type）。</p><p>对象是属性（property）的集合，每个属性都是由键值对（key/value）组成。一般，对象是键值对的无序集合，但数组是一种特殊的有编号的有序集合。函数也是一种特殊的对象，它包含了与之相关联的可执行代码。</p><p>如果函数用来初始化一个新建的对象，即使用 <code>new</code> 运算符，则称之为「构造函数」（constructor）。每个构造函数定义了一类（class）对象——由构造函数初始化的对象组成的集合。「类」可以看作是对象类型的子类型。</p><h3 id="section-1">数字</h3><p>不区分整型和浮点型，采用根据 IEEE-754 标准定义的 64 位浮点格式表示数字。然而，实际的操作（比如数组索引以及位操作符）则是基于 32 位整数。</p><p>当一个数字直接出现在程序中时，被称为「数字直接量」（numeric literal），其表现形式将在下面列出。在任何数字直接量前面加上负号（<code>-</code>）能够得到其负值，但<strong>负号是一元求反运算符，并不是数字直接量语法的组成部分。</strong></p><h4 id="section-2">整型直接量</h4><ul><li>十进制<ul><li><code>0</code></li><li><code>3</code></li><li><code>10000000</code></li></ul></li><li>十六进制<ul><li><code>0xff</code></li><li><code>0xCAFE911</code></li></ul></li></ul><h4 id="section-3">浮点型直接量</h4><ul><li>传统实数写法<ul><li><code>3.14</code></li><li><code>.3333333333333</code></li></ul></li><li>指数记数法<ul><li><code>6.02e23</code></li><li><code>1.4738223E-32</code></li></ul></li></ul><h3 id="section-4">字符串</h3><p>字符串是一组由无符号的 16 位值组成的不可变的有序序列，每个字符通常来自于 Unicode 字符集。ECMAScript 采用的是 UTF-16 编码的 Unicode 字符集。</p><h3 id="section-5">包装对象</h3><p>原始类型不具备属性，然而却经常看到 <code>"foo".length</code> 这种用原始类型访问属性的表达式。这是因为在访问属性时 JavaScript 解释器会调用原始类型对应的构造函数去创建一个临时对象，一旦属性引用结束对象就会销毁（实现上未必会真的创建或销毁临时对象，但看起来如此）。这个临时对象叫做「包装对象」（Wrapper Object），而创建它的构造函数叫做「对象包装器」（object wrapper）。</p><p><img src="/images/tutorials/wrapper_object.jpg" alt="Wrapper Object" width="600"/></p><p>只有字符串、数字和布尔才有包装对象，而 <code>null</code> 和 <code>undefined</code> 没有，所以访问它们的属性会抛出 TypeError。</p><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">((</span><span class="mi">1</span><span class="p">).</span><span class="nx">length</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="kc">undefined</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kc">null</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="nx">TypeError</span><span class="o">:</span> <span class="nx">Cannot</span> <span class="nx">read</span> <span class="nx">property</span> <span class="s1">'length'</span> <span class="nx">of</span> <span class="kc">null</span></code></pre></div><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// 定义一个字符串直接量</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s2">"test"</span><span class="p">;</span>

<span class="c1">// 为包装对象的新属性赋值</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">len</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">len</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
<span class="o">=&gt;</span> <span class="kc">undefined</span></code></pre></div><p>上面代码中变量 <code>t</code> 的值为 <code>undefined</code>——在对 <code>s.len</code> 赋值时创建了一个临时对象，但是语句执行之后那个临时对象销毁了，所以这条语句无效。再一次调用 <code>s.len</code> 时是创建的另一个临时对象，故 <code>t</code> 的值为 <code>undefined</code>。</p><h3 id="section-6">变量比较</h3><p>原始类型的比较是值的比较；对象为引用类型，值都是引用，比较时是看它们是否引用了同一个基对象。</p><p>将对象赋值给一个变量，仅仅是赋值的引用值，对象本身并没有复制一次。</p><h3 id="section-7">类型转换</h3><p>ECMAScript 运算符和语句期望使用多样化的数据类型，并可以相互转换。if 语句将判断条件转换为布尔值，但 <code>==</code> 运算符从不试图将其操作数转换为布尔值。</p><table><thead><tr><th>值</th><th>字符串</th><th>数字</th><th>布尔值</th><th>对象</th></tr></thead><tbody><tr><td><code>undefined</code></td><td><code>"undefined"</code></td><td><code>NaN</code></td><td><code>false</code></td><td>throws TypeError</td></tr><tr><td><code>null</code></td><td><code>"null"</code></td><td><code>0</code></td><td><code>false</code></td><td>throws TypeError</td></tr><tr><td><code>true</code></td><td><code>"true"</code></td><td><code>1</code></td><td>-</td><td><code>new Boolean(true)</code></td></tr><tr><td><code>false</code></td><td><code>"false"</code></td><td><code>0</code></td><td>-</td><td><code>new Boolean(false)</code></td></tr><tr><td><code>""</code></td><td>-</td><td><code>0</code></td><td><code>false</code></td><td><code>new String("")</code></td></tr><tr><td><code>"1.2</code>”</td><td>-</td><td><code>1.2</code></td><td><code>true</code></td><td><code>new String("1.2")</code></td></tr><tr><td><code>"one"</code></td><td>-</td><td><code>NaN</code></td><td><code>true</code></td><td><code>new String("one")</code></td></tr><tr><td><code>0</code></td><td><code>"0"</code></td><td>-</td><td><code>false</code></td><td><code>new Number(0)</code></td></tr><tr><td><code>-0</code></td><td><code>"0"</code></td><td>-</td><td><code>false</code></td><td><code>new Number(-0)</code></td></tr><tr><td><code>NaN</code></td><td><code>"NaN"</code></td><td>-</td><td><code>false</code></td><td><code>new Number(NaN)</code></td></tr><tr><td><code>Infinity</code></td><td><code>"Infinity"</code></td><td>-</td><td><code>true</code></td><td><code>new Number(Infinity)</code></td></tr><tr><td><code>-Infinity</code></td><td><code>"-Infinity"</code></td><td>-</td><td><code>true</code></td><td><code>new Number(-Infinity)</code></td></tr><tr><td><code>1</code></td><td><code>"1"</code></td><td>-</td><td><code>true</code></td><td><code>new Number(1)</code></td></tr><tr><td><code>{}</code></td><td><code>"[object Object]"</code></td><td><code>NaN</code></td><td><code>true</code></td><td>-</td></tr><tr><td><code>[]</code></td><td><code>""</code></td><td><code>0</code></td><td><code>true</code></td><td>-</td></tr><tr><td><code>[9]</code></td><td><code>"9"</code></td><td><code>9</code></td><td><code>true</code></td><td>-</td></tr><tr><td><code>["a", "b"]</code></td><td><code>"a,b"</code></td><td><code>NaN</code></td><td><code>true</code></td><td>-</td></tr><tr><td><code>function() {}</code></td><td><code>"function () {}"</code></td><td><code>NaN</code></td><td><code>true</code></td><td>-</td></tr></tbody></table></div> </main> <footer class="layout-footer"><div class="layout-inner"><div class="footer-links"><div class="internal"> <b>内部通道</b><ul><li><a href="/about/">关于本站</a></li><li><a href="/links/">外部链接</a></li></ul></div><div class="other"> <b>狡兔三窟</b><ul><li><a href="http://ourai.ws/" target="_blank" rel="external nofollow">欧雷流</a></li><li><a href="https://github.com/ourai" target="_blank" rel="external nofollow">GitHub</a></li><li><a href="https://www.codewars.com/users/ourai" target="_blank" rel="external nofollow">Codewars</a></li><li><a href="http://segmentfault.com/u/ourai" target="_blank" rel="external nofollow">SegmentFault</a></li><li><a href="http://weibo.com/ourairyu" target="_blank" rel="external nofollow">微博</a></li></ul></div></div><p class="w3c_techs"><a href="http://validator.w3.org/check?uri=referer" target="_blank" rel="external nofollow"><img src="http://www.w3.org/html/logo/badge/html5-badge-h-css3-semantics.png" width="165" height="64" alt="HTML5 Powered with CSS3 / Styling, and Semantics" title="HTML5 Powered with CSS3 / Styling, and Semantics"></a></p><div class="profile" itemscope itemtype="http://schema.org/Person" lang="en"> <a href="http://ourai.ws/" class="avatar_link" target="_blank" rel="external nofollow"><img class="avatar" src="/images/avatar.jpg?s=120" itemprop="image" alt="欧雷"></a><div class="profile_info"><h3 class="author"><a href="http://ourai.ws/" class="author_link" itemprop="name" target="_blank" rel="external nofollow">Ourai Lin</a></h3><p>Developer / Blogger</p></div></div><p class="copyright">Copyright © 2011-2015 <a href="http://ourai.ws/" target="_blank" rel="external nofollow" title="欧雷流">Ourai.WS</a></p><p class="dependencies">Powered by <a href="https://github.com/" target="_blank" rel="external nofollow" title="GitHub is the best place to share code with friends, co-workers, classmates, and complete strangers. Over four million people use GitHub to build amazing things together.">GitHub</a>, <a href="http://jekyllrb.com/" target="_blank" rel="external nofollow" title="Jekyll is a simple, blog-aware, static site generator. It takes a template directory containing raw text files in various formats, runs it through Markdown (or Textile) and Liquid converters, and spits out a complete, ready-to-publish static website suitable for serving with your favorite web server.">Jekyll</a>, <a href="http://disqus.com/" target="_blank" rel="external nofollow" title="Disqus is a free service that enables great online communities. As the web’s most popular discussion system, Disqus is used by millions of websites that cover pretty much any topic imaginable. Its magic is in connecting people to stuff worth talking about.">Disqus</a></p></div> </footer><script>Tatami.sandbox()</script><!--[if lt IE 8]><div class="forbidden_message"><p>很抱歉，本站不支持低于 Internet Explorer 8 的浏览器。</p><p>如果您想继续用 Internet Explorer 浏览器访问本站，请先<a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" target="_blank">升级</a>。</p></div><![endif]--></body></html>